<style>
.glyphicon { margin-right:10px; }
.panel-body { padding:0px; }
.panel-body table tr td { padding-left: 5px; }
.panel-body .menu-table { margin-bottom: 0px; }
.sidebar-wrapper {
    margin-left: 0px;
    left: 10px;
    top: 100px;
    width: 200px;
    position: fixed;
}

</style>
<div class="sidebar-wrapper">
<div class="container">
    <div class="row">
        <div class="col-sm-2 col-md-2">
            <div class="panel-group" id="accordion">
            {{#menus}}
            {{#if visible}}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#{{id}}"><span class='{{classAttr}}'>
                            </span>{{caption}}</a>
                        </h4>
                    </div>

                    <div id='{{id}}' class="panel-collapse collapse in">
                        <div class="panel-body">
                            <table class="menu-table">
                                {{>submenu}}
                            </table>
                        </div>
                    </div>

                </div>
            {{/if}}
            {{/}}
            </div>
        </div>
    </div>
</div>
</div> <!-- sidebar wrapper -->
{{#partial submenu}}
    {{#entries}}
    {{#if visible}}
        <tr>
            <td>
                <span class='{{classAttr}}'></span><a href='{{path}}'>{{caption}}</a>
            </td>
        </tr>
    {{/if}}
    {{/entries}}
{{/partial}}

<script>
    component.exports = {
        onrender: function(){
            console.log('menu component rendered');
        },
        data: function(){
            return {
                menus: [
                    new models.MenuModel(
                        {
                        id: 'adv-menu-management',
                        caption: 'Management',
                        classAttr: 'glyphicon glyphicon-cog',
                        visible: true,
                        entries: [
                                {
                                    id: 'customers',
                                    caption: 'Customers',
                                    classAttr: 'glyphicon glyphicon glyphicon-user',
                                    path: 'customers',
                                    visible: true
                                },
                                {
                                    id: 'clients',
                                    caption: 'Clients',
                                    classAttr: 'glyphicon glyphicon glyphicon-scale',
                                    path: 'clients',
                                    visible: true
                                },
                                {
                                    id: 'revenues',
                                    caption: 'Revenues',
                                    classAttr: 'glyphicon glyphicon-euro',
                                    path: 'revenues',
                                    visible: true
                                }
                            ]
                    }),
                    new models.MenuModel({
                        id: 'adv-menu-articles',
                        caption: 'Products',
                        classAttr: 'glyphicon glyphicon-barcode',
                        visible: true,
                        entries: [
                            {
                                id: 'products',
                                caption: 'Products',
                                classAttr: 'glyphicon glyphicon-book',
                                path: 'products',
                                visible: true
                            },
                            {
                                id: 'tasks',
                                caption: 'Tasks',
                                classAttr: 'glyphicon glyphicon-tasks',
                                path: 'tasks',
                                visible: true
                            },
                            {
                                id: 'licenses',
                                caption: 'Licenses',
                                classAttr: 'glyphicon glyphicon-stats',
                                path: 'licenses',
                                visible: true
                            }
                        ]
                    }),
                    new models.MenuModel({
                        id: 'adv-menu-tools',
                        caption: 'Tools',
                        classAttr: 'glyphicon glyphicon-wrench',
                        visible: true,
                        entries: [
                            {
                                id: 'retail',
                                caption: 'Diagnose',
                                classAttr: 'glyphicon glyphicon-list-alt',
                                path: 'emretail',
                                visible: true
                            },
                            {
                                id: 'log',
                                caption: 'Log',
                                classAttr: 'glyphicon glyphicon-pencil',
                                visible: true
                            }
                        ]
                    })
                ]
            };
        }
    }
</script>
